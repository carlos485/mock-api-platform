---
import Layout from '@/layouts/Layout.astro';
---

<Layout>
  <div class="flex items-center justify-center min-h-screen">
    <div class="loading loading-spinner loading-lg"></div>
  </div>
</Layout>

<script>
  import { authStore } from '@/lib/stores/auth.store';

  const unsubscribe = authStore.subscribe((state) => {
    if (!state.loading) {
      if (state.user) {
        // User is authenticated, redirect to dashboard
        window.location.href = '/dashboard';
      } else {
        // User is not authenticated, redirect to login
        window.location.href = '/login';
      }
    }
  });
</script>
